<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
</body>
<script src="./Promise_custom.js"></script>
<script>
  const p = new Promise((resolve, reject) => {
      // 同步执行器函数
      //setTimeout(() => {
        // resolve(1)
        reject(2)
       //}, 1000)
    })
    p.then(
      // 异步回调
      value => {console.log('onResolved1()',value)
    },
    // 返回的promise由onResolve或onRejected回调的结果来返回,默认是返回resolve状态,值是undefined
      reason => {
        console.log('onRejected1()',reason)
        // 改变状态
        // throw 3
        // return 4 
        return new Promise((resolve, reject) => {
          resolve(5)
          // reject(6)
        })
      }
    )
    .then(
      value => console.log('onResolved3',value)
    )
    .catch(
      reason => console.log('onRejected4',reason)
    )
    .then(
      value => console.log('onResolved2()',value),
      reason => console.log('onRejected2()', reason)
    )
/*     p.then(
      value => console.log('onResolved2()',value),
      reason => console.log('onRejected2()',reason)
    ) */

    console.log('then()之后')
</script>

</html>