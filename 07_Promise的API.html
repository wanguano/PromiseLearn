<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <!-- 
    1. Promiseæž„é€ å‡½æ•°: Promise (executor) {}
        excutorå‡½æ•°: åŒæ­¥æ‰§è¡Œ  (resolve, reject) => {}
        resolveå‡½æ•°: å†…éƒ¨å®šä¹‰æˆåŠŸæ—¶æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•° value => {}
        rejectå‡½æ•°: å†…éƒ¨å®šä¹‰å¤±è´¥æ—¶æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•° reason => {}
        è¯´æ˜Ž: excutorä¼šåœ¨Promiseå†…éƒ¨ç«‹å³åŒæ­¥å›žè°ƒ,å¼‚æ­¥æ“ä½œåœ¨æ‰§è¡Œå™¨ä¸­æ‰§è¡Œ

    2. Promise.prototype.thenæ–¹æ³•: (onResolved, onRejected) => {}
        onResolvedå‡½æ•°: æˆåŠŸçš„å›žè°ƒå‡½æ•°  (value) => {}
        onRejectedå‡½æ•°: å¤±è´¥çš„å›žè°ƒå‡½æ•° (reason) => {}
        è¯´æ˜Ž: æŒ‡å®šç”¨äºŽå¾—åˆ°æˆåŠŸvalueçš„æˆåŠŸå›žè°ƒå’Œç”¨äºŽå¾—åˆ°å¤±è´¥reasonçš„å¤±è´¥å›žè°ƒ
              è¿”å›žä¸€ä¸ªæ–°çš„promiseå¯¹è±¡

    3. Promise.prototype.catchæ–¹æ³•: (onRejected) => {}
        onRejectedå‡½æ•°: å¤±è´¥çš„å›žè°ƒå‡½æ•° (reason) => {}
        è¯´æ˜Ž: then()çš„è¯­æ³•ç³–, ç›¸å½“äºŽ: then(undefined, onRejected)

    4. Promise.resolveæ–¹æ³•: (value) => {}
        value: æˆåŠŸçš„æ•°æ®æˆ–promiseå¯¹è±¡
        è¯´æ˜Ž: è¿”å›žä¸€ä¸ªæˆåŠŸ/å¤±è´¥çš„promiseå¯¹è±¡

    5. Promise.rejectæ–¹æ³•: (reason) => {}
        reason: å¤±è´¥çš„åŽŸå› 
        è¯´æ˜Ž: è¿”å›žä¸€ä¸ªå¤±è´¥çš„promiseå¯¹è±¡

    6. Promise.allæ–¹æ³•: (promises) => {}
        promises: åŒ…å«nä¸ªpromiseçš„æ•°ç»„
        è¯´æ˜Ž: è¿”å›žä¸€ä¸ªæ–°çš„promise, åªæœ‰æ‰€æœ‰çš„promiseéƒ½æˆåŠŸæ‰æˆåŠŸ, åªè¦æœ‰ä¸€ä¸ªå¤±è´¥äº†å°±ç›´æŽ¥å¤±è´¥
    7. Promise.raceæ–¹æ³•: (promises) => {}
        promises: åŒ…å«nä¸ªpromiseçš„æ•°ç»„
        è¯´æ˜Ž: è¿”å›žä¸€ä¸ªæ–°çš„promise, ç¬¬ä¸€ä¸ªå®Œæˆçš„promiseçš„ç»“æžœçŠ¶æ€å°±æ˜¯æœ€ç»ˆçš„ç»“æžœçŠ¶æ€
  -->
  <script>
    // new Promise((resolve, reject) => {
    //   // æ‰§è¡ŒåŒæ­¥æ‰§è¡Œå™¨å‡½æ•° execute 
    //   // æ‰§è¡Œå¼‚æ­¥æ“ä½œðŸ‘‡
    //   setTimeout(() => {
    //     // resolve(1)
    //     reject('onRejected()å¤±è´¥äº†')
    //   }, 1000);
    // }).then((value) => {
    //   console.log(value)
    // }).catch((reason) => {
    //   console.log(reason)
    // })

    /*  Promiseå‡½æ•°å¯¹è±¡æ–¹æ³•: resolve, reeject */
    // åˆ›å»ºä¸€ä¸ªvalueå€¼ä¸º3çš„promiseå¯¹è±¡
    const p1 = new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve(3)
      }, 1000);
    })
    const p2 = Promise.resolve(4)
    const p3 = Promise.reject(5)
    p1.then(value => console.log('p1 value', value))
    p2.then(value => console.log('p2 value', value))
    p3.catch(reason => console.log('p3 reason', reason))

    /* Promise.all([prmise,...]) 
        å‚æ•°: æ•°ç»„ä¸­ä¼ é€’promiseå¯¹è±¡
        è¿”å›žå€¼: è¿”å›žæ–°çš„promiseå¯¹è±¡,åªæœ‰æ‰€æœ‰primiseçŠ¶æ€éƒ½æˆåŠŸæ‰å¯ä»¥,åªè¦æœ‰ä¸€ä¸ªå¤±è´¥äº†å°±å¤±è´¥
        values: è¿”å›žçš„æ˜¯æˆåŠŸçš„valuesæ•°ç»„æ ¼å¼
        reason: è¿”å›žçš„æ˜¯å¤±è´¥çš„reason
        æ•°æ®çš„é¡ºåºä»¥promiseæ•°ç»„é¡ºåºä¸€è‡´
    */
    // const p4 = Promise.all([p1, p2, p3])
    // const p4 = Promise.all([p1, p2])
    // p4.then(
    //   (values) => console.log('p4 all onResolved()', values),
    //   (reason) => console.log('p4 all onRejected()', reason)
    // )

    /* Promise.rice([promise,...])
        è¿”å›žå€¼: è¿”å›žæ–°çš„promiseå¯¹è±¡, ç¬¬ä¸€ä¸ªå®Œæˆçš„promiseçš„ç»“æžœçŠ¶æ€å°±æ˜¯æœ€ç»ˆçš„ç»“æžœçŠ¶æ€
        è¯´æ˜Ž: è¿”å›žä¸€ä¸ªæ–°çš„promise, ç¬¬ä¸€ä¸ªå®Œæˆçš„promiseç»“æžœå°±æ˜¯æœ€ç»ˆçš„ç»“æžœçŠ¶æ€
        æ•°ç»„ä¸­å“ªä¸€ä¸ªpromiseæœ€å…ˆè¿”å›žçŠ¶æ€,å°±æ˜¯æœ€ç»ˆçš„ç»“æžœçŠ¶æ€
    */
    // const p5 = Promise.race([p1, p2, p3])
    const p5 = Promise.race([p1,  p3])
    p5.then(
      (value) => console.log('p5 race onResolved()', value),
      (reason) => console.log('p5 race onRejected()', reason)
    )
  </script>
</body>
<input type="text" >
</html>